var rM = require('refs');

var getRemotesNames = function(repoPath, callback) {
	var refsManager = new rM.Refs(repoPath, function(err) {
		if (err) {
			callback(err, '');
			return;
		}
		refsManager.getRemotesNames(function(err, names) {
			if (err) {
				callback(err, '');
				return;
			}
			callback('', names);
			return;
		});
	});
}

var getRemoteBranchDetails = function(repoPath, remote, branch, callback) {
	var refsManager = new rM.Refs(repoPath, function(err) {
		if (err) {
			callback(err, '');
			return;
		}
		refsManager.getBranchDetails(remote, branch, function(err, details) {
			if (err) {
				callback(err, '');
				return;
			}
			callback('', details);
			return;
		});
	});
}

exports.getRemoteBranchDetails = getRemoteBranchDetails;
exports.getRemotesNames = getRemotesNames;
